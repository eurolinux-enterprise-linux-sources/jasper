diff -urNp old/src/libjasper/base/jas_getopt.c new/src/libjasper/base/jas_getopt.c
--- old/src/libjasper/base/jas_getopt.c	2007-01-19 22:43:05.000000000 +0100
+++ new/src/libjasper/base/jas_getopt.c	2017-04-24 14:44:13.479547933 +0200
@@ -76,6 +76,7 @@
 
 #include "jasper/jas_getopt.h"
 #include "jasper/jas_math.h"
+#include "jasper/jas_debug.h"
 
 /******************************************************************************\
 * Global data.
diff -urNp old/src/libjasper/bmp/bmp_dec.c new/src/libjasper/bmp/bmp_dec.c
--- old/src/libjasper/bmp/bmp_dec.c	2017-04-24 14:42:17.283288014 +0200
+++ new/src/libjasper/bmp/bmp_dec.c	2017-04-24 14:45:07.200206215 +0200
@@ -77,6 +77,7 @@
 #include "jasper/jas_stream.h"
 #include "jasper/jas_image.h"
 #include "jasper/jas_malloc.h"
+#include "jasper/jas_debug.h"
 
 #include "bmp_cod.h"
 
diff -urNp old/src/libjasper/jpc/jpc_tsfb.c new/src/libjasper/jpc/jpc_tsfb.c
--- old/src/libjasper/jpc/jpc_tsfb.c	2017-04-24 14:42:17.326287740 +0200
+++ new/src/libjasper/jpc/jpc_tsfb.c	2017-04-24 14:59:11.226406745 +0200
@@ -119,14 +119,6 @@ void jpc_tsfb_destroy(jpc_tsfb_t *tsfb)
 	free(tsfb);
 }
 
-int jpc_tsfb_analyze(jpc_tsfb_t *tsfb, jas_seq2d_t *a)
-{
-	return (tsfb->numlvls > 0) ? jpc_tsfb_analyze2(tsfb, jas_seq2d_getref(a,
-	  jas_seq2d_xstart(a), jas_seq2d_ystart(a)), jas_seq2d_xstart(a),
-	  jas_seq2d_ystart(a), jas_seq2d_width(a),
-	  jas_seq2d_height(a), jas_seq2d_rowstep(a), tsfb->numlvls - 1) : 0;
-}
-
 int jpc_tsfb_analyze2(jpc_tsfb_t *tsfb, int *a, int xstart, int ystart,
   int width, int height, int stride, int numlvls)
 {
@@ -146,15 +138,15 @@ int jpc_tsfb_analyze2(jpc_tsfb_t *tsfb,
 	return 0;
 }
 
-int jpc_tsfb_synthesize(jpc_tsfb_t *tsfb, jas_seq2d_t *a)
+int jpc_tsfb_analyze(jpc_tsfb_t *tsfb, jas_seq2d_t *a)
 {
-	return (tsfb->numlvls > 0 && jas_seq2d_size(a)) ?
-	  jpc_tsfb_synthesize2(tsfb,
-	  jas_seq2d_getref(a, jas_seq2d_xstart(a), jas_seq2d_ystart(a)),
-	  jas_seq2d_xstart(a), jas_seq2d_ystart(a), jas_seq2d_width(a),
+	return (tsfb->numlvls > 0) ? jpc_tsfb_analyze2(tsfb, jas_seq2d_getref(a,
+	  jas_seq2d_xstart(a), jas_seq2d_ystart(a)), jas_seq2d_xstart(a),
+	  jas_seq2d_ystart(a), jas_seq2d_width(a),
 	  jas_seq2d_height(a), jas_seq2d_rowstep(a), tsfb->numlvls - 1) : 0;
 }
 
+
 int jpc_tsfb_synthesize2(jpc_tsfb_t *tsfb, int *a, int xstart, int ystart,
   int width, int height, int stride, int numlvls)
 {
@@ -175,6 +167,15 @@ int jpc_tsfb_synthesize2(jpc_tsfb_t *tsf
 	return 0;
 }
 
+int jpc_tsfb_synthesize(jpc_tsfb_t *tsfb, jas_seq2d_t *a)
+{
+	return (tsfb->numlvls > 0 && jas_seq2d_size(a)) ?
+	  jpc_tsfb_synthesize2(tsfb,
+	  jas_seq2d_getref(a, jas_seq2d_xstart(a), jas_seq2d_ystart(a)),
+	  jas_seq2d_xstart(a), jas_seq2d_ystart(a), jas_seq2d_width(a),
+	  jas_seq2d_height(a), jas_seq2d_rowstep(a), tsfb->numlvls - 1) : 0;
+}
+
 int jpc_tsfb_getbands(jpc_tsfb_t *tsfb, uint_fast32_t xstart,
   uint_fast32_t ystart, uint_fast32_t xend, uint_fast32_t yend,
   jpc_tsfb_band_t *bands)
diff -urNp old/src/libjasper/jpc/jpc_t1dec.c new/src/libjasper/jpc/jpc_t1dec.c
--- old/src/libjasper/jpc/jpc_t1dec.c	2007-01-19 22:43:07.000000000 +0100
+++ new/src/libjasper/jpc/jpc_t1dec.c	2017-04-24 14:45:43.887972984 +0200
@@ -78,6 +78,7 @@
 #include "jasper/jas_fix.h"
 #include "jasper/jas_stream.h"
 #include "jasper/jas_math.h"
+#include "jasper/jas_debug.h"
 
 #include "jpc_bs.h"
 #include "jpc_mqdec.h"
diff -urNp old/src/libjasper/mif/mif_cod.c new/src/libjasper/mif/mif_cod.c
--- old/src/libjasper/mif/mif_cod.c	2017-04-24 14:42:17.303287887 +0200
+++ new/src/libjasper/mif/mif_cod.c	2017-04-24 14:47:20.158361453 +0200
@@ -70,6 +70,7 @@
 #include "jasper/jas_image.h"
 #include "jasper/jas_string.h"
 #include "jasper/jas_malloc.h"
+#include "jasper/jas_debug.h"
 
 #include "mif_cod.h"
 
diff -urNp old/src/libjasper/pnm/pnm_dec.c new/src/libjasper/pnm/pnm_dec.c
--- old/src/libjasper/pnm/pnm_dec.c	2007-01-19 22:43:05.000000000 +0100
+++ new/src/libjasper/pnm/pnm_dec.c	2017-04-24 14:47:45.904198015 +0200
@@ -79,6 +79,7 @@
 #include "jasper/jas_types.h"
 #include "jasper/jas_stream.h"
 #include "jasper/jas_image.h"
+#include "jasper/jas_debug.h"
 
 #include "pnm_cod.h"
 
